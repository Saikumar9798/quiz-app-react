(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{20:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var c=n(1),i=n.n(c),o=n(6),r=n.n(o),s=(n(20),n(3)),u=n(4),a=n(11),j=n.n(a),l=n(13),b=n(0);var O=function(t){var e=Object(s.c)((function(t){return t.options.question_category})),n=Object(s.c)((function(t){return t.options.question_difficulty})),c=Object(s.c)((function(t){return t.options.question_type})),i=Object(s.c)((function(t){return t.options.amount_of_questions})),o=Object(s.c)((function(t){return t.index})),r=Object(s.b)(),u=function(t){r({type:"CHANGE_LOADING",loading:t})},a=function(){var t=Object(l.a)(j.a.mark((function t(){var s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="https://opentdb.com/api.php?amount=".concat(i),e.length&&(s=s.concat("&category=".concat(e))),n.length&&(s=s.concat("&difficulty=".concat(n))),c.length&&(s=s.concat("&type=".concat(c))),u(!0),t.next=7,fetch(s).then((function(t){return t.json()})).then((function(t){var e;e=t.results,r({type:"SET_QUESTIONS",questions:e}),u(!1)}));case 7:o>0&&(r({type:"SET_INDEX",index:0}),r({type:"SET_SCORE",score:0}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsx)("button",{onClick:a,children:t.text})};var d=function(){var t=Object(c.useState)(null),e=Object(u.a)(t,2),n=e[0],i=e[1],o=Object(s.c)((function(t){return t.options.loading})),r=Object(s.c)((function(t){return t.options.question_category})),a=Object(s.c)((function(t){return t.options.question_difficulty})),j=Object(s.c)((function(t){return t.options.question_type})),l=Object(s.c)((function(t){return t.options.amount_of_questions})),d=Object(s.b)();return Object(c.useEffect)((function(){var t=function(t){d({type:"CHANGE_LOADING",loading:t})};t(!0),fetch("https://opentdb.com/api_category.php").then((function(t){return t.json()})).then((function(e){t(!1),i(e.trivia_categories)}))}),[i,d]),o?Object(b.jsx)("p",{children:"LOADING..."}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{style:{marginTop:"0"},children:"Select Category:"}),Object(b.jsxs)("select",{value:r,onChange:function(t){d({type:"CHANGE_CATEGORY",question_category:t.target.value})},children:[Object(b.jsx)("option",{children:"All"}),n&&n.length&&n.map((function(t){return Object(b.jsx)("option",{value:t.id,children:t.name},t.id)}))]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Select Difficulty:"}),Object(b.jsxs)("select",{value:a,onChange:function(t){d({type:"CHANGE_DIFFICULTY",question_difficulty:t.target.value})},children:[Object(b.jsx)("option",{value:"",children:"All"},"difficulty-0"),Object(b.jsx)("option",{value:"easy",children:"Easy"},"difficulty-1"),Object(b.jsx)("option",{value:"medium",children:"Medium"},"difficulty-2"),Object(b.jsx)("option",{value:"hard",children:"Hard"},"difficulty-3")]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Select Question Type:"}),Object(b.jsxs)("select",{value:j,onChange:function(t){d({type:"CHANGE_TYPE",question_type:t.target.value})},children:[Object(b.jsx)("option",{value:"",children:"All"},"type-0"),Object(b.jsx)("option",{value:"multiple",children:"Multiple Choice"},"type-1"),Object(b.jsx)("option",{value:"boolean",children:"True/False"},"type-2")]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Amount of Questions:"}),Object(b.jsx)("input",{value:l,onChange:function(t){d({type:"CHANGE_AMOUNT",amount_of_questions:t.target.value})}})]}),Object(b.jsx)(O,{text:"Get started!"})]})},f=n(14),p=n(2),h=function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value};var x=function(){var t=Object(c.useState)([]),e=Object(u.a)(t,2),n=e[0],i=e[1],o=Object(c.useState)(!1),r=Object(u.a)(o,2),a=r[0],j=r[1],l=Object(c.useState)(null),O=Object(u.a)(l,2),d=O[0],x=O[1],_=Object(c.useState)([]),v=Object(u.a)(_,2),y=v[0],g=v[1],E=Object(s.c)((function(t){return t.score})),q=Object(s.c)((function(t){return t.questions}));Object(c.useEffect)((function(){var t=q.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{question:h(t.question),correct_answer:h(t.correct_answer),incorrect_answers:t.incorrect_answers.map((function(t){return h(t)}))})}));i(t)}),[q]);var S=Object(s.c)((function(t){return t.index})),C=Object(s.b)(),m=n[S],T=m&&m.correct_answer;Object(c.useEffect)((function(){if(m){var t,e=Object(f.a)(m.incorrect_answers);e.splice((t=m.incorrect_answers.length,Math.floor(Math.random()*Math.floor(t))),0,m.correct_answer),g(e)}}),[m]);var N=function(t){j(!0),x(t.target.textContent),t.target.textContent===T&&C({type:"SET_SCORE",score:E+1}),S+1<=n.length&&setTimeout((function(){j(!1),x(null),C({type:"SET_INDEX",index:S+1})}),2500)},A=function(t){return a?t===T?"correct":t===d?"selected":void 0:""};return m?Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{id:"question_number",children:["Question ",S+1]}),Object(b.jsx)("h3",{children:m.question}),Object(b.jsx)("ul",{children:y.map((function(t,e){return Object(b.jsx)("li",{onClick:N,className:A(t),children:t},e)}))}),Object(b.jsxs)("div",{children:["Score: ",E," / ",n.length]})]}):Object(b.jsx)("div",{children:"Loading"})};var _=function(){var t=Object(s.c)((function(t){return t.score})),e=Object(s.b)();return Object(b.jsxs)("div",{children:[Object(b.jsxs)("h3",{children:["Final Score: ",t]}),Object(b.jsx)("button",{onClick:function(){e({type:"SET_INDEX",index:0}),e({type:"SET_SCORE",score:0})},children:"Try again"}),Object(b.jsx)(O,{text:"Fetch new questions"}),Object(b.jsx)("button",{onClick:function(){e({type:"SET_QUESTIONS",questions:[]}),e({type:"SET_SCORE",score:0})},children:"Back to settings"})]})},v=(n(9),function(){return Object(b.jsx)("div",{id:"header",children:Object(b.jsx)("h1",{children:"Quiz App"})})}),y=function(){return Object(b.jsx)("div",{id:"footer",children:Object(b.jsx)("h3",{children:"Made with \u2764\ufe0f by Saikumar"})})};var g=function(){var t,e=Object(s.c)((function(t){return t.questions})),n=Object(s.c)((function(t){return t.index}));return t=e.length&&n+1<=e.length?Object(b.jsx)(x,{}):e.length?Object(b.jsx)(_,{}):Object(b.jsx)(d,{}),Object(b.jsxs)("div",{id:"main_container",children:[Object(b.jsxs)("div",{id:"header-body",children:[Object(b.jsx)(v,{}),Object(b.jsx)("div",{className:"App",children:Object(b.jsx)("div",{className:"app-container",children:t})})]}),Object(b.jsx)(y,{})]})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),c(t),i(t),o(t),r(t)}))},q={options:{loading:!1,question_category:"",question_difficulty:"",question_type:"",amount_of_questions:5},questions:[],index:0,score:0},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHANGE_LOADING":return Object(p.a)(Object(p.a)({},t),{},{options:Object(p.a)(Object(p.a)({},t.options),{},{loading:e.loading})});case"CHANGE_CATEGORY":return Object(p.a)(Object(p.a)({},t),{},{options:Object(p.a)(Object(p.a)({},t.options),{},{question_category:e.question_category})});case"CHANGE_DIFFICULTY":return Object(p.a)(Object(p.a)({},t),{},{options:Object(p.a)(Object(p.a)({},t.options),{},{question_difficulty:e.question_difficulty})});case"CHANGE_TYPE":return Object(p.a)(Object(p.a)({},t),{},{options:Object(p.a)(Object(p.a)({},t.options),{},{question_type:e.question_type})});case"CHANGE_AMOUNT":return Object(p.a)(Object(p.a)({},t),{},{options:Object(p.a)(Object(p.a)({},t.options),{},{amount_of_questions:e.amount_of_questions})});case"SET_QUESTIONS":return Object(p.a)(Object(p.a)({},t),{},{questions:e.questions});case"SET_INDEX":return Object(p.a)(Object(p.a)({},t),{},{index:e.index});case"SET_SCORE":return Object(p.a)(Object(p.a)({},t),{},{score:e.score});default:return t}},C=n(15),m=Object(C.a)(S);r.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(s.a,{store:m,children:Object(b.jsx)(g,{})})}),document.getElementById("root")),E()},9:function(t,e,n){}},[[29,1,2]]]);
//# sourceMappingURL=main.df2d0d92.chunk.js.map